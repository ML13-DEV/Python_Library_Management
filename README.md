# ğŸ“š Library Management System (Console Application)

A complete console-based library management system built in Python.
This project simulates the internal workflow of a real library, providing tools to manage users, books, reservations, and statistical reportsâ€”fully powered by a MariaDB/MySQL database.

The system is designed using Object-Oriented Programming (OOP), SQL database operations, and clean modular structure.

---

## ğŸš€ Features
- ğŸ‘¤ User Management

  - Add new users

  - List all registered users

  - Delete users from the system

- ğŸ“˜ Book Management

  - Add new books to the catalog

  - List all available books

  - Delete books

  - Update book status (reserved / available)

- ğŸ“– Reservation System

  - Reserve books

  - Validate book availability

  - Update return dates

  - View all active reservations

  - Automatically retrieve reservations that have not yet expired

- ğŸ“Š Statistical Reports

  - Includes a separate module with several analytical functions:

  - Most rented books

  - Months with the highest number of rentals

  - Users with the most reservations

  - Rentals for specific years (2024, 2025)

  - Year-to-year comparison of rental activity

  - All visual reports are created using Matplotlib.
 
---

## ğŸ› ï¸ Technologies Used

- Python 

- MariaDB / MySQL

- SQLAlchemy (encrypted connection using environment variables)

- Matplotlib for charts

- OOP principles for maintainability

- Modular architecture (functions, classes, database logic separated)

---

## ğŸ—‚ï¸ Project Structure
- **project/**
  - **data/**
    - biblioteca.sql - *SQL structure and seed data*   
  - **functions/**
    - funciones.py - *ControlStock class + DB operations*
    - funciones_menu.py - *Main menu operations*
    - funciones_estadisticas.py - *Statistical plots + SQL queries*
    - clases.py - *OOP classes (Libro, Usuario, Reserva)*
    - db.py - *Secure DB connection using env variables*
  - **reports/** - *Generated figures from stats*

---

## ğŸ” Secure Database Connection

The project uses environment variables to avoid hardcoding credentials.

Example:

    import os  
    from sqlalchemy import create_engine

    url = os.getenv("DATABASE_BIBLIOTECA")  
    engine = create_engine(url, future=True)

---

## ğŸ“Š Example Outputs

Below are some of the figures generated by the statistical module:

- ### â­ Most Rented Books

A bar chart showing the five books with the highest number of reservations.

  <img width="1000" height="600" alt="libros_mas_alquilados" src="https://github.com/user-attachments/assets/617a7bd1-0732-4786-8261-d44d090bd420" />


- ### ğŸ“† Monthly Rental Distribution

Monthly trends showing rental activity over the whole dataset.

  <img width="1000" height="700" alt="meses_mas_alquilados" src="https://github.com/user-attachments/assets/3039b22e-e822-43a6-a204-e33a94217b87" />


- ### ğŸ§‘â€ğŸ¤â€ğŸ§‘ Most Active Users

Identifying users with the most reservations historically.

  <img width="1000" height="700" alt="usuarios_con_mas_alquileres" src="https://github.com/user-attachments/assets/16a7a258-8f72-4d62-a24f-2f0f2c3e21a1" />


- ### ğŸ”„ Comparison: 2024 vs 2025

Side-by-side chart comparing rental behavior year over year.

  <img width="685" height="600" alt="2024_vs_2025" src="https://github.com/user-attachments/assets/95a2854c-4198-4d37-90a8-89c50539076d" />

---

## ğŸ“Œ Notes

- The system uses binary search in some operations to improve search efficiency.

- All reservations and returns automatically update book status.

- Error handling is implemented for all DB operations.

- The system is built to be easily extended with new features.

---

## ğŸ§‘â€ğŸ’» Author

Manuel Lombardi
Data Analyst & Software Developer

ğŸ”— LinkedIn: https://www.linkedin.com/in/manuel-lombardi-572685341/

ğŸ™ GitHub: https://github.com/ML13-DEV

